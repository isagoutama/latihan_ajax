<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Latihan AJAX</title>
  </head>
  <body>
    <a href="#" onclick="ajaxGetDate()">Lihat Tanggal</a>
    <span id="tanggal"></span>
    <hr>
    <br>
    Nama 1:<input type="text" name="" id="nama1"><br>
    Nama 2:<input type="text" name="" id="nama2"><br>
    <button onclick="ajaxPostData()">Gabungkan data</button>
  </body>
  <script type="text/javascript">
    function ajaxPostData() {
      var nama1 = document.getElementById("nama1").value;
      var nama2 = document.getElementById("nama2").value;


      var xhttp;
      if (window.XMLHttpRequest) {
        xhttp = new XMLHttpRequest();
      }
      else {
        xhttp = new ActiveXObject('Microsoft.XMLHTTP');
      }
      xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          document.getElementById('tanggal').innerHTML = this.responseText;
        }
      };
      xhttp.open('POST','server.php?p=joiner');
      xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      xhttp.send("nama1="+nama1+"&nama2="+nama2);
    }

    function ajaxGetDate() {

      // inisiasi ajax
      var xhttp;
      if (window.XMLHttpRequest) {
        xhttp = new XMLHttpRequest();
      }
      else {
        xhttp = new ActiveXObject("Microsoft.XMLHTTP");
      }
      // raedyState Holds the status
      // of the XMLHttpRequest.
      // 0: request not initialized
      // 1: server connection established
      // 2: request received
      // 3: processing request
      // 4: request finished and
      // response is ready


      // untuk menerima respon dari server
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          document.getElementById('tanggal').innerHTML = this.responseText;
        }
      };

      //membuka koneksi ajax
      //dengan metode GET
      //struktur : open(mode,url,async)
      xhttp.open("GET", "server.php?p=date");

      //mengirim ajax
      xhttp.send();
    }
  </script>
</html>
